<div
  class="media-container"
  elementVisibility
  [debounceTime]="0"
  [threshold]="0.95"
  (visible)="isInView($event)"
>
    <app-bar-loading [isLoading]="isLoading"></app-bar-loading>
    <img
        *ngIf="isImage; else isVideo"
        [src]="imagePath"
        [srcset]="imagePath"
        width="100%"
        height="100%"
        [alt]="mediaObject?.media_name"
        (load)="loaded()"
        #imageElmt
    >
    <ng-template #isVideo>
        <video
            width="100%"
            height="100%"
            preload="metadata"
            controls
            loop
            (loadedmetadata)="loaded()"
            [autoplay]="isAutoStart"
            [muted]="true"
            #videoElmt
        >
            <source [src]="videoPath">
            Your browser does not support the video tag.
        </video>
    </ng-template>
</div>
